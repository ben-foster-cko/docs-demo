post:
  tags:
    - Payments
  summary: Request a payment
  description: |
    Request a payment from a new or existing source. 

    #### Full Card (PCI Compliant Merchants)

    ```
    {
      "source": {
        "number": "4543474002249996",
        "expiry_month": 6,
        "expiry_year": 2025,
        "name": "Bruce Wayne",
        "cvv": "956"
      }
    }
    ```

    ### Session Token (Checkout Frames, Wallets and Direct Alternative Payment Methods)

    ```
    {
      "source": {
        "token": "tok_ubfj2q76miwundwlk72vxt2i7q"
      }
    }
    ```

    ### Payment Source

    ```
    {
      "source": {
        "id": "src_wmlfc3zyhqzehihu7giusaaawu"
      }
    }
    ```

    ### Customer

    ```
    {
      "source": {
        "id": "cus_y3oqhf46pyzuxjbcn2giaqnb44"
      }
    }
    ```

    ### Redirect payments

    Some payment requests may require the owner to be redirected to a third party site prior to completing the payment, for example, 3D-Secure payments will redirect the card holder to the issuer's 3D-Secure page. In these cases a HTTP 202 response will be returned, containing a redirect link.

  parameters:
    - name: body
      in: body
      required: true
      schema:
        $ref: '#/definitions/PaymentRequest'
  responses:
    '201':
      description: Payment was processed successfully
      schema:
        $ref: '#/definitions/PaymentResponse'
      headers:
        Cko-Request-Id:
          $ref: "#/headers/Cko-Request-Id"
        Cko-Version:
          $ref: "#/headers/Cko-Version"
    '202':
      description: Payment was accepted but requires input from the owner
      schema:
        $ref: '#/definitions/PaymentRedirectResponse'
    '401':
      description: Unauthorized
    '422':
      $ref: '#/responses/InvalidDataError'
        
# get:
#   tags:
#     - Charges
#   summary: Retrieve a list of charges
#   description: |
#     Retrieve a list of charges
#   parameters:
#     - $ref: '#/parameters/collectionLimit'
#     - $ref: '#/parameters/collectionOffset'
#   responses:
#     '200':
#       description: A list of charges was retrieved successfully
#       schema:
#         type: array
#         items:
#           $ref: '#/definitions/Charge'
#     '401':
#       $ref: '#/responses/AccessForbidden'
